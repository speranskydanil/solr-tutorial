{"name":"Solr Tutorial","tagline":"This page describes installation of the Solr with Jetty (for many different projects on a server).","body":"# Solr Tutorial\r\n\r\nThis page describes installation of the Solr with Jetty (for many different projects on a server).\r\n\r\nIt's not multicore configuration: one project -- one Solr instance running with Jetty.\r\n\r\n### Installing Java\r\n\r\n    yum install java-1.7.0-openjdk-devel\r\n\r\n### Installing Solr\r\n\r\n    cd /usr/share\r\n    wget http://apache-mirror.rbc.ru/pub/apache/lucene/solr/4.4.0/solr-4.4.0.zip\r\n    unzip solr-4.4.0.zip\r\n    rm solr-4.4.0.zip\r\n    mv solr-4.4.0 solr\r\n\r\n### Creating Instance Example\r\n\r\n    cd /usr/share/solr\r\n    mkdir instances\r\n    cp -R example instances/example\r\n    cd instances/example\r\n    rm -R README.txt multicore example-DIH exampledocs example-schemaless\r\n    cp /path/to/schema/from/repo/schema.xml solr/collection1/conf/schema.xml\r\n    vim start.sh\r\n    chmod +x start.sh\r\n    vim stop.sh\r\n    chmod +x stop.sh\r\n\r\nPay attention to `/path/to/schema/from/repo/schema.xml`\r\n\r\n**start.sh**\r\n\r\n    #!/bin/bash\r\n\r\n    nohup java -jar start.jar > logs/jetty.log 2>&1 &\r\n    echo $! > jetty.pid\r\n\r\n**stop.sh**\r\n\r\n    #!/bin/bash\r\n\r\n    kill -9 `cat jetty.pid`\r\n    rm jetty.pid\r\n\r\n### Creating New Instance\r\n\r\n    cd /usr/share/solr/instances\r\n    cp -R example vsp\r\n    cd vsp\r\n    grep -rl '8983' ./ | xargs sed -i 's/8983/port/g'\r\n    ./start.sh\r\n    ./stop.sh\r\n\r\nPay attention to `port` (it can be 8981 for example)\r\n\r\n## Rails Configuration\r\n\r\n### config/sunspot.yml\r\n\r\n    production:\r\n      solr:\r\n        hostname: localhost\r\n        port: 8981\r\n        log_level: WARNING\r\n        path: /solr\r\n\r\n    development:\r\n      solr:\r\n        hostname: localhost\r\n        port: 8981\r\n        log_level: INFO\r\n        path: /solr\r\n\r\n### Reindexing\r\n\r\n    rake sunspot:solr:reindex\r\n\r\n**Author (Speransky Danil):**\r\n[Personal Page](http://dsperansky.info) |\r\n[LinkedIn](http://ru.linkedin.com/in/speranskydanil/en) |\r\n[GitHub](https://github.com/speranskydanil?tab=repositories) |\r\n[StackOverflow](http://stackoverflow.com/users/1550807/speransky-danil)\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}